### 初始化 package.json

```
npm init -y
```

> 增加 [`-y`](https://docs.npmjs.com/cli/v7/commands/npm-init) 参数不用一直按 Enter，全部采用默认设置

### 准备目录

```
├── build # 编译脚本
│   └── rollup.config.js
├── dist # 编译结果
│   └── index.js
├── example # HTML引用例子
│   └── index.html
├── package.json
└── src # ES6源码
    └── index.js
```

### 安装依赖

```
## 安装 rollup.js 基础模块
npm i -D rollup

## 安装 @rollup/plugin-buble buble模块是rollup的ES6编译插件
## 功能和babel类似，是简化版的babel，编译速度比babel快一些
npm i --save-dev @rollup/plugin-buble
```

### rollup 配置

1. 配置文件路径 [`../build/rollup.config.js`](../build/rollup.config.js)

```
const path = require("path");
const buble = require("@rollup/plugin-buble");

const resolve = function (filePath) {
  return path.join(__dirname, "..", filePath);
};

module.exports = {
  input: resolve("src/index.js"),
  output: {
    file: resolve("dist/index.js"),
    format: "iife",
  },
  plugins: [buble()],
};
```

2. `package.json` 配置编译命令

```
{
  "scripts": {
    "build": "rollup -c ./build/rollup.config.js"
  }
}
```

### 编译源码

1. 源码路径 `../src/index.js`
2. 源码内容

```
const arr1 = [1,2,3];
const arr2 = [4,5,6];

const result = [...arr1, ...arr2];
console.log(result);
```
